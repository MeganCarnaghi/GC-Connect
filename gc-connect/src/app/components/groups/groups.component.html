<app-navigation></app-navigation>

<div class="group-search-parent">
  <form class="search-form">
    <input
      type="text"
      name="group-search-text"
      placeholder="Search for a group..."
      [(ngModel)]="query"
    />
    <fa-icon class="search-icon" [icon]="faSearch" size="lg"></fa-icon>
  </form>

  <div class="button-container">
    <a href="/groups/" class="a-button" routerLink="/create-group">
      <fa-icon class="" [icon]="faPlus" size="sm"></fa-icon>
      Create Group
    </a>
  </div>
</div>

<section class="bg-gray groups-container">
  <div
    *ngFor="let group of groups | searchFilter: query; let i = index"
    class="item-container"
  >
    <a class="item-link-container" routerLink="/groups/{{ group.id }}">
      <img src="{{ group.photo }}" class="round-photo" />
      <div class="item-details">
        <h2>{{ group.name }}</h2>
        <p class="uppercase letter-space type">{{ group.type }}</p>
      </div>
    </a>
    <button
      class="join bg-gray uppercase"
      *ngIf="!group.user_id"
      (click)="joinGroup(group.id)"
    >
      Join
    </button>
  </div>
</section>
